<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>BoltMaster — Интернет-магазин инструментов</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Добавляем необходимые Firebase скрипты -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <!-- Cloudinary SDK -->
  <script src="https://upload-widget.cloudinary.com/global/all.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <div class="logo">
    <i class="fas fa-tools"></i>
    <h1>BoltMaster — магазин инструментов</h1>
  </div>
  <div class="header-controls">
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="search" placeholder="Поиск...">
    </div>
    <select id="category">
      <option value="">Все категории</option>
    </select>
    <button onclick="toggleFavorites()" class="btn" id="favorites-btn">
      <i class="far fa-heart"></i>
    </button>
    
    <div class="user-menu" id="user-menu" style="display: none;">
      <div class="user-btn">
        <i class="fas fa-user"></i>
        <span id="user-name"></span>
      </div>
      <div class="user-dropdown">
        <a href="#" onclick="openProfile(); return false;">Профиль</a>
        <a href="#" onclick="viewOrders(); return false;">Мои заказы</a>
        <a href="#" onclick="logout(); return false;">Выйти</a>
      </div>
    </div>
    
    <button onclick="openAuthModal()" class="btn btn-admin" id="login-btn">
      <i class="fas fa-user"></i> Войти
    </button>
    
    <button onclick="promptAdminPassword()" class="btn btn-admin" id="admin-access-btn" style="display: none;">
      <i class="fas fa-crown"></i> Админ
    </button>
    
    <button onclick="openCart()" class="btn btn-cart">
      <i class="fas fa-shopping-cart"></i>
      <span class="cart-count" id="cart-count">0</span>
    </button>
  </div>
</header>

<main>
  <aside class="filters">
    <h3>Фильтры</h3>
    <div class="filter-group">
      <label>Цена, ₴</label>
      <div class="price-range">
        <input type="number" id="price-min" placeholder="от" min="0">
        <span>-</span>
        <input type="number" id="price-max" placeholder="до" min="0">
      </div>
    </div>
    <div class="filter-group">
      <label>Бренд</label>
      <select id="brand">
        <option value="">Все бренды</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Наличие</label>
      <select id="availability">
        <option value="">Все товары</option>
        <option value="in-stock">В наличии</option>
        <option value="out-of-stock">Нет в наличии</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Сортировка</label>
      <select id="sort">
        <option value="default">По умолчанию</option>
        <option value="price-asc">Цена (по возрастанию)</option>
        <option value="price-desc">Цена (по убыванию)</option>
        <option value="name-asc">Название (А-Я)</option>
        <option value="name-desc">Название (Я-А)</option>
        <option value="popular">По популярности</option>
      </select>
    </div>
    <div class="filter-buttons">
      <button onclick="applyFilters()" class="btn btn-detail">Применить</button>
      <button onclick="resetFilters()" class="btn">Сбросить</button>
    </div>
  </aside>

  <section>
    <div class="products-header">
      <h2 id="products-title">Все товары</h2>
      <div>
        <span id="products-count"></span>
        <div class="view-options">
          <button class="view-btn active" id="grid-view" onclick="setViewMode('grid')"><i class="fas fa-th"></i></button>
          <button class="view-btn" id="list-view" onclick="setViewMode('list')"><i class="fas fa-list"></i></button>
        </div>
      </div>
    </div>
    <div id="product-grid" class="grid">
      <!-- Skeleton loading -->
      <div class="card">
        <div class="skeleton-img"></div>
        <div class="skeleton-title"></div>
        <div class="skeleton-text"></div>
        <div class="skeleton-text" style="width: 80%;"></div>
        <div class="skeleton-price"></div>
        <div class="skeleton-text" style="height: 36px; margin-top: 15px;"></div>
      </div>
      <div class="card">
        <div class="skeleton-img"></div>
        <div class="skeleton-title"></div>
        <div class="skeleton-text"></div>
        <div class="skeleton-text" style="width: 80%;"></div>
        <div class="skeleton-price"></div>
        <div class="skeleton-text" style="height: 36px; margin-top: 15px;"></div>
      </div>
      <div class="card">
        <div class="skeleton-img"></div>
        <div class="skeleton-title"></div>
        <div class="skeleton-text"></div>
        <div class="skeleton-text" style="width: 80%;"></div>
        <div class="skeleton-price"></div>
        <div class="skeleton-text" style="height: 36px; margin-top: 15px;"></div>
      </div>
      <div class="card">
        <div class="skeleton-img"></div>
        <div class="skeleton-title"></div>
        <div class="skeleton-text"></div>
        <div class="skeleton-text" style="width: 80%;"></div>
        <div class="skeleton-price"></div>
        <div class="skeleton-text" style="height: 36px; margin-top: 15px;"></div>
      </div>
    </div>
    
    <div class="pagination" id="pagination">
      <button onclick="changePage(1)" class="active">1</button>
      <button onclick="changePage(2)">2</button>
      <button onclick="changePage(3)">3</button>
    </div>
  </section>

  <aside>
    <h3>Популярные товары</h3>
    <div class="featured-products" id="featured-products">
      <div class="featured-item">
        <div class="skeleton-img" style="width: 60px; height: 60px;"></div>
        <div class="featured-item-info">
          <div class="skeleton-text" style="width: 80%; height: 14px;"></div>
          <div class="skeleton-text" style="width: 40%; height: 16px; margin-top: 5px;"></div>
        </div>
      </div>
      <div class="featured-item">
        <div class="skeleton-img" style="width: 60px; height: 60px;"></div>
        <div class="featured-item-info">
          <div class="skeleton-text" style="width: 80%; height: 14px;"></div>
          <div class="skeleton-text" style="width: 40%; height: 16px; margin-top: 5px;"></div>
        </div>
      </div>
    </div>
    
    <div id="admin-panel" class="admin-panel" style="display:none;">
      <h4>Админ-панель</h4>
      <div class="tabs">
        <div class="tab active" onclick="switchTab('import-tab')">Импорт</div>
        <div class="tab" onclick="switchTab('products-tab')">Товары</div>
        <div class="tab" onclick="switchTab('orders-tab')">Заказы</div>
      </div>
      
      <div id="import-tab" class="tab-content active">
        <div class="filter-group">
          <label>URL XML-фида:</label>
          <input type="text" id="feed-url" placeholder="https://api.dropshipping.ua/api/feeds/2091.xml">
          <button onclick="saveFeedUrl()" class="btn" style="margin-top: 10px;">Сохранить URL</button>
        </div>
        <button onclick="loadFromFeed()" class="btn btn-detail">Обновить из фида</button>
        <p id="feed-message" style="font-size:12px; color:#555; margin-top: 10px;"></p>
        <button onclick="clearCatalog()" class="btn">Очистить каталог</button>
        <button onclick="exportJSON()" class="btn">Экспорт JSON</button>
      </div>
      
      <div id="products-tab" class="tab-content">
        <button onclick="openAddProductModal()" class="btn btn-detail">Добавить товар</button>
        <div id="admin-products-list"></div>
      </div>
      
      <div id="orders-tab" class="tab-content">
        <div id="admin-orders-list"></div>
      </div>
    </div>
  </aside>
</main>

<!-- Добавляем новый раздел "О магазине" перед футером -->
<section class="about-section">
  <div class="container">
    <h2>О магазине BoltMaster</h2>
    <div class="about-content">
      <p>Наш магазин предлагает широкий ассортимент профессионального и бытового инструмента, оборудования и расходных материалов для ремонта, строительства, монтажа и домашнего использования.</p>
      
      <h3>Основные категории товаров:</h3>
      <ul>
        <li><strong>Крепеж и расходники:</strong> Заклепки алюминиевые, скобы для степлера.</li>
        <li><strong>Сантехника и водоснабжение:</strong> Гидроаккумуляторы, насосы (циркуляционные, фонтанные), реле давления, расширительные баки для систем отопления.</li>
        <li><strong>Абразивный инструмент:</strong> Лепестковые круги для УШМ.</li>
        <li><strong>Слесарный и ручной инструмент:</strong> Наборы торцевых головок и бит, ключи-трещотки, отвертки ударные, зубила, клещи переставные для труб.</li>
        <li><strong>Щетки металлические:</strong> Дисковые, чашечные и конусные щетки для дрелей и УШМ (латунированные и стальные витые), ручные щетки.</li>
        <li><strong>Малярный инструмент:</strong> Шпатели, валики, кюветки.</li>
        <li><strong>Прочий инструмент:</strong> Ножи строительные.</li>
      </ul>
      
      <h3>Наши преимущества:</h3>
      <ul>
        <li><strong>Широкий ассортимент:</strong> От мелкого крепежа до профессионального оборудования.</li>
        <li><strong>Качественные бренды:</strong> В каталоге представлена продукция надежных брендов, таких как SIGMA, AQUATICA, GRAD, LEO.</li>
        <li><strong>Доступность:</strong> Товары в наличии.</li>
        <li><strong>Подробное описание:</strong> Каждая позиция имеет детальное описание, технические характеристики и фотографию.</li>
      </ul>
      
      <p>Мы стремимся предоставить нашим клиентам все необходимое для успешного выполнения задач любой сложности.</p>
    </div>
  </div>
</section>

<footer>
    <div class="footer-section">
      <h4>Помощь</h4>
      <a href="#" onclick="openRules(); return false;">Правила магазина</a>
      <div class="contact-info">
        <div><i class="fas fa-envelope"></i> korovinkonstantin0@gmail.com</div>
        <div><i class="fas fa-phone"></i> +380684296978</div>
      </div>
    </div>
    
    <div class="copyright">
      © <span id="year"></span> BoltMaster. Все права защищены.
    </div>
  </div>
</footer>

<div id="modal" class="modal">
  <div class="modal-content" id="modal-content">
    <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
  </div>
</div>

<!-- Добавим модальное окно для правил после существующего модального окна -->
<div id="rules-modal" class="modal">
  <div class="modal-content" style="max-width: 800px; max-height: 80vh; overflow-y: auto;">
    <button class="modal-close" onclick="closeRulesModal()"><i class="fas fa-times"></i></button>
    <div class="rules-container">
      <h1>Правила интернет‑магазина BoltMaster</h1>
      <div class="version">Актуальная версия: 1.0 — опубликовано: 16.09.2025</div>
      
      <section id="general">
        <h2>1. Общие положения</h2>
        <p>1.1. Эти правила определяют порядок оформления и обработки заказов в интернет‑магазине ElectroTools, а также права и обязанности сторон.</p>
        <p>1.2. Размещая заказ, Покупатель подтверждает согласие с настоящими правилами.</p>
        <p>1.3. Магазин вправе вносить изменения в правила; новая версия вступает в силу с момента публикации на сайте.</p>
      </section>

      <section id="ordering">
        <h2>2. Оформление заказа</h2>
        <ul>
          <li>2.1. Заказ оформляется на сайте через корзину. При оформлении необходимо указать корректные Ф.И.О., адрес доставки, телефон и e‑mail.</li>
          <li>2.2. После размещения заказа Покупатель получает подтверждение на e‑mail и/или SMS.</li>
          <li>2.3. Магазин оставляет за собой право связаться с Покупателем для подтверждения заказа и условий доставки.</li>
        </ul>
      </section>

      <section id="payment">
        <h2>3. Оплата</h2>
        <ul>
          <li>3.1. Доступные способы оплаты: онлайн‑оплата банковской картой, наложенный платёж (по согласованию), безналичный расчёт для юридических лиц.</li>
          <li>3.2. Оплата считается произведённой с момента получения подтверждения платёжной системы.</li>
          <li>3.3. В случае неуспешной оплаты магазин вправе отменить заказ и уведомить Покупателя.</li>
        </ul>
      </section>

      <section id="delivery">
        <h2>4. Доставка</h2>
        <ul>
          <li>4.1. Доставка выполняется курьерскими службами или самовывозом из пунктов выдачи (если доступно).</li>
          <li>4.2. Стоимость и срок доставки рассчитываются при оформлении заказа и зависят от региона и выбранного способа.</li>
          <li>4.3. Магазин не несёт ответственности за задержки доставки, вызванные работой сторонних транспортных компаний, погодными условиями или форс‑мажором.</li>
        </ul>
      </section>

      <section id="warranty_return">
        <h2>5. Гарантия и возврат</h2>
        <ul>
          <li>5.1. На большинство товаров распространяется гарантия производителя. Срок гарантия указан в карточке товара или в сопроводительных документах.</li>
          <li>5.2. Возврат товара надлежащего качества возможен в течение 14 дней с момента покупки при соблюдении условий: товарный вид, целостность упаковки, сохранённые ярлыки и комплектующие.</li>
          <li>5.3. Возврат дефектного товара осуществляется в соответствии с действующим законодательством и правилами производителя — обмен или возврат денежный средств производится после проверки товара.</li>
          <li>5.4. Стоимость доставки при возврате возмещается в порядке, установленном законодательством и внутренной политикой магазина.</li>
        </ul>
      </section>

      <section id="responsibility">
        <h2>6. Ответственность сторон</h2>
        <ul>
          <li>6.1. Магазин обязуется предоставить товары, соответствующие описанию в карточке товара.</li>
          <li>6.2. Магазин не несёт ответственности за убытки Покупателя, возникшие вследствие неправильного использования товара.</li>
          <li>6.3. Магазин не несёт ответственности за задержки или повреждения, вызванные третьими лицами (транспортные компании), а также в случае некорректно указанных Покупателем данных.</li>
        </ul>
      </section>

      <section id="personal_data">
        <h2>7. Персональные данные и конфиденциальность</h2>
        <ul>
          <li>7.1. Магазин обрабатывает персональные данные Покупателей в соответствии с законодательством о защите персональных данных.</li>
          <li>7.2. Информация используется для обработки заказов, доставки и обратной связи, а также может использоваться для рассылки акций при согласии Покупателя.</li>
          <li>7.3. Магазин не передаёт персональные данные третьим лицам без согласия Покупателя, за исключением случаев, предусмотренных законом (например, передача транспортным компаниям для доставки).</li>
        </ul>
      </section>

      <section id="dispute">
        <h2>8. Споры и форс‑мажор</h2>
        <ul>
          <li>8.1. Все споры, возникающие между Покупателем и Магазином, решаются путём переговоров. В случае невозможности достичь соглашения спор подлежит рассмотрению в установленном законом порядке.</li>
          <li>8.2. Магазин освобождается от ответственности за частичное или полное неисполнение обязательств, вызванное форс‑мажорными обстоятельствами (военные действия, чрезвычайные природные события, действия органов власти и т.п.).</li>
        </ul>
      </section>

      <section id="contacts">
        <h2>9. Контактная информация</h2>
        <p class="small">По вопросам, связанным с заказами, оплатой, доставкой или возвратом, пожалуйста, обращайтесь в раздел «Контакты» на сайте или используйте указанные телефоны и e‑mail.</p>
      </section>

      <div class="actions">
        <button onclick="closeRulesModal()" class="btn">Закрыть</button>
      </div>
    </div>
  </div>
</div>

<div id="notification" class="notification">
  <i class="fas fa-check-circle"></i>
  <span id="notification-text"></span>
</div>

<script src="script.js"></script>
</body>
</html>